{"version":3,"file":"js/integratedlogin.ae814c61.js","mappings":"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","sources":["webpack://vueportable/./src/views/IntegratedLogin.vue","webpack://vueportable/./src/views/IntegratedLogin.vue?7f25"],"sourcesContent":["<template>\r\n    <div>\r\n        <!-- 카카오 로그인 버튼 -->\r\n        <a v-if=\"!isLoggedIn\" @click.prevent=\"kakaoLogin\" href=\"#\">\r\n            <img\r\n                src=\"https://k.kakaocdn.net/14/dn/btroDszwNrM/I6efHub1SN5KCJqLm1Ovx1/o.jpg\"\r\n                width=\"222\"\r\n                alt=\"카카오 로그인 버튼\"\r\n            />\r\n        </a>\r\n\r\n        <!-- 구글 로그인 버튼 -->\r\n        <button\r\n            v-if=\"!isLoggedIn\"\r\n            @click=\"googleLogin\"\r\n            style=\"background: none; border: none; cursor: pointer; padding: 0\"\r\n        >\r\n            <img\r\n                src=\"@/assets/google-login.png\"\r\n                alt=\"Google 로그인 버튼\"\r\n                style=\"width: 280px; height: auto; display: block\"\r\n            />\r\n        </button>\r\n\r\n        <!-- 네이버 로그인 버튼 영역 -->\r\n        <div id=\"naverIdLogin\" v-show=\"!isLoggedIn\" style=\"display: inline-block\"></div>\r\n\r\n        <!-- 통합 로그아웃 버튼 -->\r\n        <button v-if=\"isLoggedIn\" @click=\"logout\" style=\"margin-top: 20px\">통합 로그아웃</button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            isLoggedIn: false,\r\n            loginProvider: null,\r\n            naverLogin: null,\r\n            accessToken: null\r\n        };\r\n    },\r\n    mounted() {\r\n        // 카카오 초기화\r\n        if (!window.Kakao.isInitialized()) {\r\n            window.Kakao.init('dd6f5a11802ce41f489bbed774988fb2');\r\n        }\r\n\r\n        // 네이버 로그인 버튼 초기화\r\n        this.initializeNaverLoginButton();\r\n    },\r\n    methods: {\r\n        kakaoLogin() {\r\n            window.Kakao.Auth.login({\r\n                scope: 'profile_nickname, profile_image',\r\n                throughTalk: false, // 여기 추가!\r\n                success: () => {\r\n                    window.Kakao.API.request({\r\n                        url: '/v2/user/me',\r\n                        success: () => {\r\n                            this.isLoggedIn = true;\r\n                            this.loginProvider = 'kakao';\r\n                            console.log('로그인 성공!');\r\n                        },\r\n                        fail: (error) => {\r\n                            alert('사용자 정보 요청 실패');\r\n                            console.error(error);\r\n                        }\r\n                    });\r\n                },\r\n                fail: (err) => {\r\n                    alert('카카오 로그인 실패');\r\n                    console.error(err);\r\n                }\r\n            });\r\n        },\r\n\r\n        googleLogin() {\r\n            if (!window.google) {\r\n                alert('Google SDK가 로드되지 않았습니다.');\r\n                return;\r\n            }\r\n            const clientId = process.env.VUE_APP_OAUTH_CLIENT;\r\n            const google = window.google;\r\n\r\n            const client = google.accounts.oauth2.initCodeClient({\r\n                client_id: clientId,\r\n                scope: 'email profile openid',\r\n                callback: () => {\r\n                    this.isLoggedIn = true;\r\n                    this.loginProvider = 'google';\r\n                    console.log('로그인 성공!');\r\n                }\r\n            });\r\n            client.requestCode();\r\n        },\r\n        initializeNaverLoginButton() {\r\n            if (!window.naver) return;\r\n\r\n            this.naverLogin = new window.naver.LoginWithNaverId({\r\n                clientId: 'GlQfcfZ0XZr41oi2CBCD',\r\n                callbackUrl: 'https://yuriyuri01.github.io/sociallogin3/naverlogin',\r\n                isPopup: false,\r\n                loginButton: { color: 'green', type: 3, height: 60 }\r\n            });\r\n            this.naverLogin.init();\r\n\r\n            this.naverLogin.getLoginStatus((status) => {\r\n                if (status) {\r\n                    this.accessToken = this.naverLogin.accessToken.accessToken;\r\n                    this.isLoggedIn = true;\r\n                    this.loginProvider = 'naver';\r\n                    console.log('로그인 성공!');\r\n                }\r\n            });\r\n        },\r\n        logout() {\r\n            if (this.loginProvider === 'kakao') {\r\n                if (window.Kakao.Auth.getAccessToken()) {\r\n                    window.Kakao.Auth.logout(() => {\r\n                        this.isLoggedIn = false;\r\n                        this.loginProvider = null;\r\n                        console.log('로그아웃되었습니다.');\r\n                    });\r\n                }\r\n            } else if (this.loginProvider === 'google') {\r\n                this.isLoggedIn = false;\r\n                this.loginProvider = null;\r\n                console.log('로그아웃되었습니다.');\r\n            } else if (this.loginProvider === 'naver') {\r\n                if (!this.accessToken) return;\r\n\r\n                const logoutUrl = `https://nid.naver.com/oauth2.0/token?grant_type=delete&client_id=GlQfcfZ0XZr41oi2CBCD&client_secret=U6Mbsivs6M&access_token=${this.accessToken}&service_provider=NAVER`;\r\n                const iframe = document.createElement('iframe');\r\n                iframe.style.display = 'none';\r\n                iframe.src = logoutUrl;\r\n                document.body.appendChild(iframe);\r\n\r\n                this.accessToken = null;\r\n                this.isLoggedIn = false;\r\n                this.loginProvider = null;\r\n\r\n                this.$nextTick(() => {\r\n                    this.initializeNaverLoginButton();\r\n                });\r\n\r\n                console.log('로그아웃되었습니다.');\r\n            } else {\r\n                this.isLoggedIn = false;\r\n                this.loginProvider = null;\r\n                console.log('로그아웃되었습니다.');\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import { render } from \"./IntegratedLogin.vue?vue&type=template&id=1fbd1776\"\nimport script from \"./IntegratedLogin.vue?vue&type=script&lang=js\"\nexport * from \"./IntegratedLogin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["id","style","_createElementBlock","$data","isLoggedIn","onClick","_cache","_withModifiers","args","$options","kakaoLogin","href","_createElementVNode","src","width","alt","googleLogin","_imports_0","_hoisted_1","logout","data","loginProvider","naverLogin","accessToken","mounted","window","Kakao","isInitialized","init","this","initializeNaverLoginButton","methods","Auth","login","scope","throughTalk","success","API","request","url","console","log","fail","error","alert","err","google","clientId","process","client","accounts","oauth2","initCodeClient","client_id","callback","requestCode","naver","LoginWithNaverId","callbackUrl","isPopup","loginButton","color","type","height","getLoginStatus","status","getAccessToken","logoutUrl","iframe","document","createElement","display","body","appendChild","$nextTick","__exports__","render"],"sourceRoot":""}